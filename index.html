<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ä°liÅŸkimiz Wrapped</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #000;
      color: #fff;
      overflow: hidden;
    }

    .story-nav {
      position: fixed;
      top: 12px;
      left: 12px;
      right: 12px;
      display: flex;
      gap: 6px;
      z-index: 50;
    }
    .story-nav span {
      flex: 1;
      height: 4px;
      background: rgba(255,255,255,.25);
      border-radius: 4px;
      overflow: hidden;
    }
    .story-nav span i {
      display: block;
      height: 100%;
      width: 0%;
      background: #fff;
    }

    .card {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      display: none;
      padding: 64px 28px;
      justify-content: flex-end;
    }
    .card.active { display: flex; }

    .overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, rgba(0,0,0,.15), rgba(0,0,0,.85));
    }

    .content {
      position: relative;
      z-index: 2;
      width: 100%;
      text-align: center;
    }

    /* SADECE Ä°LK KART Ä°Ã‡Ä°N ALT-ORTA HÄ°ZALAMA */
    .first-card .content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      padding-bottom: 32px;
    }

    h1 { font-size: 40px; font-weight: 800; margin-bottom: 12px; }
    h2 { font-size: 32px; font-weight: 700; margin-bottom: 10px; }
    p { font-size: 18px; opacity: .9; line-height: 1.45; }

    .tags {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin-top: 24px;
    }
    .tag {
      background: #fff;
      color: #000;
      padding: 12px 22px;
      border-radius: 999px;
      font-weight: 700;
      box-shadow: inset 0 -4px 0 #1DB954;
    }

    .progress {
      height: 8px;
      border-radius: 8px;
      background: linear-gradient(90deg,#ff4ecd,#7b61ff);
      margin: 16px 0;
    }

    .click-left,.click-right {
      position: fixed;
      top: 0;
      width: 50%;
      height: 100vh;
      z-index: 40;
    }
    .click-left { left: 0; }
    .click-right { right: 0; }

    .audio-btn {
      position: fixed;
      top: 16px;
      right: 16px;
      z-index: 60;
      background: rgba(0,0,0,.6);
      border-radius: 50%;
      padding: 10px 12px;
      font-size: 18px;
      cursor: pointer;
    }

    .play-btn {
      margin-top: 24px;
      padding: 14px 36px;
      font-size: 18px;
      font-weight: 700;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: #1DB954;
      color: #000;
    }
  </style>
</head>
<body>

<div class="story-nav">
  <span><i></i></span>
  <span><i></i></span>
  <span><i></i></span>
  <span><i></i></span>
  <span><i></i></span>
</div>

<div class="audio-btn" id="audioBtn">ðŸ”Š</div>

<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<!-- CARD 1 -->
<div class="card active first-card" style="background-image:url('images/bg1.jpg')">
  <div class="overlay"></div>
  <div class="content">
    <p>Ä°LÄ°ÅžKÄ° Ã–ZETÄ° Â· 2025</p>
    <h1>ZIT KUTUPLAR</h1>
    <p>%88 EÅŸleÅŸme Â· 3 Sezon Â· HD</p>
    <p>Biri plan yapmadan adÄ±m atmaz, diÄŸeri sabah uyanÄ±p ÅŸehir deÄŸiÅŸtirebilir.</p>
    <button class="play-btn" onclick="show(1)">â–¶ Oynat</button>
  </div>
</div>

<!-- DÄ°ÄžER KARTLAR AYNI -->
<!-- (2â€“5 kartlar deÄŸiÅŸmedi) -->

<script>
  const cards = document.querySelectorAll('.card');
  const bars = document.querySelectorAll('.story-nav span i');
  const DURATION = 5000;

  let index = 0;
  let startTime;
  let raf;

  function show(i) {
    cancelAnimationFrame(raf);
    cards.forEach((c, idx) => c.classList.toggle('active', idx === i));
    bars.forEach((b, idx) => b.style.width = idx < i ? '100%' : '0%');
    index = i;
    startProgress();
  }

  function startProgress() {
    startTime = performance.now();
    const bar = bars[index];

    function animate(now) {
      const elapsed = now - startTime;
      const percent = Math.min((elapsed / DURATION) * 100, 100);
      bar.style.width = percent + '%';

      if (elapsed < DURATION) {
        raf = requestAnimationFrame(animate);
      } else if (index < cards.length - 1) {
        show(index + 1);
      }
    }
    raf = requestAnimationFrame(animate);
  }

  const audio = document.getElementById('bgm');
  const audioBtn = document.getElementById('audioBtn');

  function updateIcon() {
    audioBtn.textContent = audio.paused ? 'ðŸ”‡' : 'ðŸ”Š';
  }

  audioBtn.onclick = () => {
    audio.paused ? audio.play() : audio.pause();
    updateIcon();
  };

  document.body.addEventListener('click', () => {
    if (audio.paused) audio.play().then(updateIcon);
  }, { once: true });

  show(0);
</script>

</body>
</html>
